import{a as u}from"./axios-G2rPRu76.js";import{_ as w,a as d,b as a,w as l,d as s,e as t,F as h,f as g,t as o,g as b,r as k,o as i,p as P,h as x}from"./index-ZW7Ctyo_.js";var V={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"newhandarky",BASE_URL:"/undefined/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:y,VITE_PATH:E}=V,I={data(){return{tempProduct:{},products:{}}},methods:{checkUser(){const c=`${y}/api/user/check`;u.post(c).then(r=>{r.data.success&&this.getData()}).catch(()=>{this.$router.push("/login")})},getData(){const c=`${y}/api/${E}/admin/products/all`;u.get(c).then(r=>{this.products=r.data.products,console.log(r.data.products)})}},mounted(){const c=document.cookie.replace(/(?:(?:^|.*;\s*)hexschoolToken\s*=\s*([^;]*).*$)|^.*$/,"$1");u.defaults.headers.common.Authorization=c,this.checkUser()}},p=c=>(P("data-v-80f9e1d6"),c=c(),x(),c),T=p(()=>t("h2",null,"產品列表",-1)),U={class:"container"},L={class:"row py-3"},R={class:"col-md-6"},S=p(()=>t("h2",null,"產品列表",-1)),D={class:"table table-hover mt-4"},A=p(()=>t("thead",null,[t("tr",null,[t("th",{width:"150"},"產品名稱"),t("th",{width:"120"}," 原價 "),t("th",{width:"120"}," 售價 "),t("th",{width:"150"}," 是否啟用 "),t("th",{width:"120"}," 查看細節 ")])],-1)),C={width:"150"},B={width:"120"},N={width:"120"},F={width:"150"},H={key:0,class:"text-success"},O={key:1},j={width:"120"},z=["onClick"],M={class:"col-md-6"},q=p(()=>t("h2",null,"單一產品細節",-1)),G={class:"card mb-3"},J=["src"],K={class:"card-body"},Q={class:"card-title"},W={class:"badge bg-primary ms-2"},X={class:"card-text"},Y={class:"card-text"},Z={class:"d-flex"},$={class:"card-text me-2"},tt={class:"card-text text-secondary"},et=["src"],st={key:1,class:"text-secondary"};function ot(c,r,ct,nt,e,dt){var m,f;const _=k("RouterLink"),v=k("router-view");return i(),d(h,null,[T,a(_,{to:"/"},{default:l(()=>[s("Home")]),_:1}),s(" | "),a(_,{to:"/about"},{default:l(()=>[s("About")]),_:1}),s(" | "),a(_,{to:"/productsList"},{default:l(()=>[s("前台產品頁")]),_:1}),s(" | "),a(_,{to:"/admin"},{default:l(()=>[s("後台產品頁")]),_:1}),a(v),t("div",U,[t("div",L,[t("div",R,[S,t("table",D,[A,t("tbody",null,[(i(!0),d(h,null,g(e.products,n=>(i(),d("tr",{key:n.id},[t("td",C,o(n.title),1),t("td",B,o(n.origin_price),1),t("td",N,o(n.price),1),t("td",F,[n.is_enabled===1?(i(),d("span",H,"啟用")):(i(),d("span",O,"未啟用"))]),t("td",j,[t("button",{type:"button",class:"btn btn-primary",onClick:it=>e.tempProduct=n},"查看細節",8,z)])]))),128))])]),t("p",null,[s("目前有 "),t("span",null,o(Object.keys(e.products).length),1),s(" 項產品")])]),t("div",M,[q,e.tempProduct.id?(i(),d(h,{key:0},[t("div",G,[t("img",{src:e.tempProduct.imageUrl,class:"card-img-top primary-image",alt:"主圖"},null,8,J),t("div",K,[t("h5",Q,[s(o(e.tempProduct.title)+" ",1),t("span",W,o(e.tempProduct.category),1)]),t("p",X,"商品描述："+o(e.tempProduct.content),1),t("p",Y,"商品內容："+o(e.tempProduct.description),1),t("div",Z,[t("p",$,o(e.tempProduct.origin_price),1),t("p",tt,[t("del",null,o(e.tempProduct.price),1)]),s(" 元 / "+o(e.tempProduct.unit),1)])])]),(f=(m=e.tempProduct)==null?void 0:m.imagesUrl)!=null&&f.length?(i(!0),d(h,{key:0},g(e.tempProduct.imagesUrl,n=>(i(),d("img",{key:n,src:n,alt:"",class:"images m-2"},null,8,et))),128)):b("",!0)],64)):(i(),d("p",st,"請選擇一個商品查看"))])])])],64)}const _t=w(I,[["render",ot],["__scopeId","data-v-80f9e1d6"]]);export{_t as default};
